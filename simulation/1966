""" 
1. 큐 맨 앞 문서 중요도 확인
2. 나머지 문서 중 이거보다 중요도 높은 거 있으면 큐 가장 뒤로 배치
3. 큐 맨 앞이고 중요도 가장 높으면 인쇄
"""

import sys
input = sys.stdin.readline
from collections import deque

n = int(input())

for _ in range(n):
    num, q = map(int, input().split())
    maps = deque(map(int, input().split()))
    cnt = 0
    
    if num == 1:
        print(1)
        continue 
    
    while True:
        maxv = max(maps)
        fn = maps.popleft()
        levels = 0
        
        if fn == maxv and q == 0:
            cnt += 1
            levels = 3
            break
        elif fn == maxv :
            cnt += 1
            q = (q-1+len(maps)) % len(maps)
            levels = 2
        elif fn != maxv:
            maps.append(fn)
            q = (q-1+len(maps)) % len(maps)
            levels = 1    
    print(cnt)
            
        
        
